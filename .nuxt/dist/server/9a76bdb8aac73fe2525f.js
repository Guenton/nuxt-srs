exports.ids=[10],exports.modules={29:function(t,e,r){"use strict";var o={},n=r(1),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,"3686c68e");e.a=component.exports},30:function(t,e){t.exports="http://localhost:3000/api"},31:function(t,e,r){"use strict";var o={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},n=r(1),component=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,"3a5b6af9");e.a=component.exports},32:function(t,e,r){"use strict";var o={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!0},linkTo:{type:String,required:!0},buttonVariant:{type:String,default:"secondary",required:!1}}},n=r(1),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:t.buttonVariant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,"fe758866");e.a=component.exports},70:function(t,e,r){"use strict";r.r(e);var o=r(30),n=r.n(o),l=r(29),c=r(32),d=r(31),h={components:{NavbarHome:l.a,H3withButton:c.a,AlertBox:d.a},data:()=>({archTypeOptions:[{value:null,text:"Select Service Archtype"}],serviceTypeOptions:[{value:null,text:"Select Service Type"}],depScopeOptions:[{value:null,text:"Select Request Origin"}],superScopeOptions:[{value:null,text:"Select Origin Location"}],form:{archType:null,serviceType:null,depScope:null,superScope:null,footprint:null,cmYear:null,cmSeq:null,description:""},validation:{archType:null,serviceType:null,depScope:null,superScope:null,footprint:null,cmYear:null,cmSeq:null,description:null},response:{success:"",error:"",sid:null},queryResult:[]}),computed:{archNotSelected(){return!this.validation.archType},cmYearOptions(){const t=(new Date).getFullYear();return[{value:null,text:""},{value:t,text:t},{value:t-1,text:t-1},{value:t-2,text:t-2},{value:t-3,text:t-3},{value:t-4,text:t-4}]},validFeedback:()=>"Great!",minimumValidation(){return!!(this.validation.archType&&this.validation.serviceType&&this.validation.depScope&&this.validation.superScope&&this.validation.description)},hasSuc(){return this.response.success.length>0},hasErr(){return this.response.error.length>0},queryHasResult(){return this.queryResult.length>0}},mounted(){this.onLoad()},methods:{async onLoad(){const t=`${n.a}/serv-arch/md`;(await this.dropdownRequest(t)).forEach(element=>{this.archTypeOptions.push({value:element.servarch_id,text:element.title})});const e=`${n.a}/scope-dept`;(await this.dropdownRequest(e)).forEach(element=>{this.depScopeOptions.push({value:element.scopedept_id,text:element.title})});const r=`${n.a}/scope-locat`;(await this.dropdownRequest(r)).forEach(element=>{this.superScopeOptions.push({value:element.scopelocat_id,text:element.title})})},async dropdownRequest(t){try{const e=await this.$axios.$get(t);return e.err?(this.response.error=e.err,[]):e.data}catch(t){return this.response.error=t,[]}},archTypeValidator(){return null===this.form.archType?(this.validation.archType=!1,this.validation.serviceType=null,this.form.serviceType=null,this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],!1):(this.validation.serviceType=null,this.form.serviceType=null,this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],this.response.success="",this.response.error="",this.validation.archType=!0,!0)},serviceTypeValidator(){null===this.form.serviceType?this.validation.serviceType=!1:(this.validation.serviceType=!0,this.response.success="",this.response.error="")},depScopeValidator(){null===this.form.depScope?this.validation.depScope=!1:(this.validation.depScope=!0,this.response.success="",this.response.error="")},superScopeValidator(){null===this.form.superScope?this.validation.superScope=!1:(this.validation.superScope=!0,this.response.success="",this.response.error="")},footprintValidator(){isNaN(this.form.footprint)?this.validation.footprint=!1:(this.validation.footprint=!0,this.response.success="",this.response.error="",this.queryResult=[],this.searchFootprint()),this.form.footprint||(this.validation.footprint=null)},descriptionValidator(){this.form.description.length<5?this.validation.description=!1:this.form.description.length>200?this.validation.description=!1:this.validation.description=!0},cmValidator(){this.form.cmYear?this.validation.cmYear=!0:this.validation.cmYear=!1,isNaN(this.form.cmSeq)||!this.form.cmSeq?this.validation.cmSeq=!1:this.validation.cmSeq=!0,this.form.cmYear||this.form.cmSeq||(this.validation.cmYear=null,this.validation.cmSeq=null)},invalidFootprint:()=>"Footprints can only be Numbers",invalidDescription(){if(this.form.description.length>=200){return`Please remove at least ${this.form.description.length-200} more characters`}if(this.form.description.length>0){return`Enter at least ${5-this.form.description.length} more characters`}return"Please enter something"},invalidCm(){return this.form.cmYear||this.form.cmSeq?this.form.cmYear?this.form.cmSeq?isNaN(this.form.cmSeq)?"Case-Sequence can only be a number":void 0:"Please enter the Case-Sequence number":"Please select the Case-Year value":"Please select the Case-Year value and enter the Case-Sequence number"},async searchFootprint(){const t=this.form.footprint;if(t.length<4)return;const e=`${n.a}/search/footprint`;try{const r=await this.$axios.$get(e,{params:{query:t}});r.err?this.response.error=r.err:this.queryResult=r.data}catch(t){this.response.error=t}},async serviceByArch(){if(!this.archTypeValidator())return;const t=this.form.archType,e=`${n.a}/serv-typebyarch/sm?id=${t}`;try{const t=await this.$axios.$get(e);t.err?this.response.error=t.err:t.data.forEach(t=>{this.serviceTypeOptions.push({value:t.servtype_id,text:t.title})})}catch(t){this.response.error=t}},async onSubmit(t){t.preventDefault();const e=`${n.a}/serv`;try{const t=await this.$axios.$post(e,this.form);t.err?this.response.error=t.err:(this.response.success=t.suc,this.response.sid=t.sid,this.$bvModal.show("submitModal"))}catch(t){this.response.error=t}},expandSID(){const t=`/log/add/${this.response.sid}`;this.$router.push(t)},onReset(t){t.preventDefault(),this.$bvModal.hide("submitModal"),this.archTypeOptions=[{value:null,text:"Select Service Archtype"}],this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],this.depScopeOptions=[{value:null,text:"Select Request Origin"}],this.superScopeOptions=[{value:null,text:"Select Origin Location"}],this.form.archType=null,this.form.serviceType=null,this.form.depScope=null,this.form.superScope=null,this.form.footprint=null,this.form.cmYear=null,this.form.cmSeq=null,this.form.description="",this.validation.archType=null,this.validation.serviceType=null,this.validation.depScope=null,this.validation.superScope=null,this.validation.footprint=null,this.validation.cmYear=null,this.validation.cmSeq=null,this.validation.description=null,this.response.success="",this.response.error="",this.response.sid=null,this.queryResult=[],this.onLoad()}}},v=r(1),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._ssrNode(" "),r("b-container",[r("H3withButton",{attrs:{h3text:"Add new Service Log","button-text":"Return to Logs","link-to":"/log"}}),t._v(" "),r("b-form",{staticClass:"mt-3",attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Specification","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Archtype:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.archTypeOptions,state:t.validation.archType},on:{change:t.serviceByArch},model:{value:t.form.archType,callback:function(e){t.$set(t.form,"archType",e)},expression:"form.archType"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Type:","label-align-sm":"right"}},[r("b-form-select",{attrs:{disabled:t.archNotSelected,options:t.serviceTypeOptions,state:t.validation.serviceType},on:{change:t.serviceTypeValidator},model:{value:t.form.serviceType,callback:function(e){t.$set(t.form,"serviceType",e)},expression:"form.serviceType"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Scope","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Origin:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.depScopeOptions,state:t.validation.depScope},on:{change:t.depScopeValidator},model:{value:t.form.depScope,callback:function(e){t.$set(t.form,"depScope",e)},expression:"form.depScope"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Location:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.superScopeOptions,state:t.validation.superScope},on:{change:t.superScopeValidator},model:{value:t.form.superScope,callback:function(e){t.$set(t.form,"superScope",e)},expression:"form.superScope"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Registry","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Footprint:","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.footprint,"invalid-feedback":t.invalidFootprint,"valid-feedback":t.validFeedback,placeholder:"Enter Footprint Number"},on:{keyup:t.footprintValidator},model:{value:t.form.footprint,callback:function(e){t.$set(t.form,"footprint",e)},expression:"form.footprint"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Case Management:","label-align-sm":"right"}},[r("b-input-group",{scopedSlots:t._u([{key:"prepend",fn:function(){return[r("b-form-select",{staticClass:"mr-3 pr-5 pl-3",attrs:{options:t.cmYearOptions,state:t.validation.cmYear},on:{focus:t.cmValidator,change:t.cmValidator},model:{value:t.form.cmYear,callback:function(e){t.$set(t.form,"cmYear",e)},expression:"form.cmYear"}})]},proxy:!0}])},[t._v(" "),r("b-form-input",{attrs:{state:t.validation.cmSeq,placeholder:"Select Year and Enter Number"},on:{focus:t.cmValidator,keyup:t.cmValidator},model:{value:t.form.cmSeq,callback:function(e){t.$set(t.form,"cmSeq",e)},expression:"form.cmSeq"}})],1),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.footprint}},[t._v("\n              "+t._s(t.invalidFootprint())+"\n            ")]),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.cmSeq}},[t._v("\n              "+t._s(t.invalidCm())+"\n            ")])],1)],1),t._v(" "),r("b-alert",{attrs:{show:t.queryHasResult,variant:"info"}},[r("p",[t._v("\n            Found the Following Footprint Numbers with similar starting values\n          ")]),t._v(" "),r("ul",t._l(t.queryResult,(function(e){return r("li",{key:e},[t._v("\n              Footprint #:\n              "),r("strong",[t._v(" "+t._s(e.footprint))])])})),0)])],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Service Description","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-textarea",{attrs:{state:t.validation.description,"invalid-feedback":t.invalidDescription,"valid-feedback":t.validFeedback,placeholder:"Enter a short description for this service...",rows:"3","max-rows":"6"},on:{focus:t.descriptionValidator,keyup:t.descriptionValidator},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.description}},[t._v("\n            "+t._s(t.invalidDescription())+"\n          ")])],1)],1),t._v(" "),r("b-form-row",{staticClass:"mt-3"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"px-4",attrs:{disabled:!t.minimumValidation,type:"submit",variant:"success"}},[t._v("\n            Pre-Register\n          ")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"secondary"}},[t._v("\n            Reset Form\n          ")])],1)],1)],1),t._v(" "),r("b-row",[r("AlertBox",{attrs:{show:t.hasSuc,text:t.response.success,variant:"success"}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasErr,text:t.response.error,variant:"danger"}})],1)],1),t._ssrNode(" "),r("b-modal",{attrs:{id:"submitModal",title:"Service Pre-Registration"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("b-container",[r("b-row",{attrs:{"align-h":"between"}},[r("b-col",{attrs:{cols:"6"}},[r("b-button",{attrs:{block:"",variant:"info"},on:{click:t.onReset}},[t._v("\n              Add another Service\n            ")])],1),t._v(" "),r("b-col",{attrs:{cols:"6"}},[r("b-button",{attrs:{block:"",variant:"success"},on:{click:t.expandSID}},[t._v("\n              Expand SID# "+t._s(t.response.sid)+"\n            ")])],1)],1)],1)]},proxy:!0}])},[r("p",{staticClass:"my-4 text-center"},[t._v("\n      "+t._s(t.response.success)+"\n    ")])])],2)}),[],!1,null,null,"68f493aa");e.default=component.exports}};