(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{200:function(t,e,r){"use strict";var n={},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},201:function(t,e){t.exports="http://localhost:3000/api"},202:function(t,e,r){"use strict";var n={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},203:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!0},linkTo:{type:String,required:!0},buttonVariant:{type:String,default:"secondary",required:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:t.buttonVariant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},206:function(t,e,r){var n=r(15);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},209:function(t,e,r){"use strict";var strong=r(210),n=r(206);t.exports=r(211)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(n(this,"Set"),t=0===t?0:t,t)}},strong)},210:function(t,e,r){"use strict";var n=r(19).f,o=r(71),l=r(136),c=r(32),h=r(134),d=r(135),f=r(91),v=r(137),m=r(92),_=r(16),w=r(90).fastKey,x=r(206),y=_?"_s":"size",k=function(t,e){var r,n=w(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,f){var v=t((function(t,n){h(t,v,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[y]=0,null!=n&&d(n,r,t[f],t)}));return l(v.prototype,{clear:function(){for(var t=x(this,e),data=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete data[r.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var r=x(this,e),n=k(r,t);if(n){var o=n.n,l=n.p;delete r._i[n.i],n.r=!0,l&&(l.n=o),o&&(o.p=l),r._f==n&&(r._f=o),r._l==n&&(r._l=l),r[y]--}return!!n},forEach:function(t){x(this,e);for(var r,n=c(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!k(x(this,e),t)}}),_&&n(v.prototype,"size",{get:function(){return x(this,e)[y]}}),v},def:function(t,e,r){var n,o,l=k(t,e);return l?l.v=r:(t._l=l={i:o=w(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=l),n&&(n.n=l),t[y]++,"F"!==o&&(t._i[o]=l)),t},getEntry:k,setStrong:function(t,e,r){f(t,e,(function(t,r){this._t=x(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?v(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,v(1))}),r?"entries":"values",!r,!0),m(e)}}},211:function(t,e,r){"use strict";var n=r(12),o=r(11),l=r(22),c=r(136),meta=r(90),h=r(135),d=r(134),f=r(15),v=r(17),m=r(93),_=r(55),w=r(94);t.exports=function(t,e,r,x,y,k){var R=n[t],C=R,S=y?"set":"add",$=C&&C.prototype,A={},E=function(t){var e=$[t];l($,t,"delete"==t?function(a){return!(k&&!f(a))&&e.call(this,0===a?0:a)}:"has"==t?function(a){return!(k&&!f(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return k&&!f(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(k||$.forEach&&!v((function(){(new C).entries().next()})))){var V=new C,P=V[S](k?{}:-0,1)!=V,D=v((function(){V.has(1)})),F=m((function(t){new C(t)})),H=!k&&v((function(){for(var t=new C,e=5;e--;)t[S](e,e);return!t.has(-0)}));F||((C=e((function(e,r){d(e,C,t);var n=w(new R,e,C);return null!=r&&h(r,y,n[S],n),n}))).prototype=$,$.constructor=C),(D||H)&&(E("delete"),E("has"),y&&E("get")),(H||P)&&E(S),k&&$.clear&&delete $.clear}else C=x.getConstructor(e,t,y,S),c(C.prototype,r),meta.NEED=!0;return _(C,t),A[t]=C,o(o.G+o.W+o.F*(C!=R),A),k||x.setStrong(C,t,y),C}},386:function(t,e,r){"use strict";r.r(e);r(54),r(3),r(1),r(43),r(209);var n=r(201),o=r.n(n),l=r(200),c=r(203),h=r(202),d={components:{NavbarHome:l.a,H3withButton:c.a,AlertBox:h.a},data:function(){return{id:this.$route.params.id,form:{posmain_id:null,title:"",shorthand:"",assig:[]},validation:{shorthand:!0,title:!0,assig:[]},response:{success:"",error:""},queryResult:[],dropdown:{assig:[{value:null,text:"Please select Assignment"}]}}},computed:{hasSuc:function(){return this.response.success.length>0},hasErr:function(){return this.response.error.length>0},queryHasResult:function(){return this.queryResult.length>0},incompleteValidation:function(){return!(null!==this.validation.title&&!1!==this.validation.title&&null!==this.validation.shorthand&&!1!==this.validation.shorthand&&!this.assigHasDuplicates)},assigHasDuplicates:function(){return new Set(this.form.assig).size!==this.form.assig.length}},mounted:function(){this.getAssigDropdown(),this.getPosData(),this.getPosAssigData()},methods:{titleValidator:function(){this.form.title.length>=5?(this.response.success="",this.response.error="",this.validation.title=!0,this.queryResult=[],this.searchInput("title")):this.validation.title=!1},shorthandValidator:function(){this.form.shorthand.length>=2?(this.response.success="",this.response.error="",this.validation.shorthand=!0,this.queryResult=[],this.searchInput("shorthand")):this.validation.shorthand=!1},assigValidator:function(i){null===this.form.assig[i]?this.validation.assig[i]=null:this.assigHasDuplicates?this.validation.assig[i]=!1:this.validation.assig[i]=!0},invalidTitle:function(){if(this.form.title.length>0){var t=5-this.form.title.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidShorthand:function(){if(this.form.shorthand.length>0){var t=2-this.form.shorthand.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidAssig:function(){return"You have selected the same Assignment twice"},validFeedback:function(){return"Great!"},dropdownRequest:function(t){var e;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(this.$axios.$get(t));case 3:if(!(e=r.sent).err){r.next=9;break}return this.response.error=e.err,r.abrupt("return",[]);case 9:return r.abrupt("return",e.data);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),this.response.error=r.t0,r.abrupt("return",[]);case 16:case"end":return r.stop()}}),null,this,[[0,12]])},getAssigDropdown:function(){var t,e=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(o.a,"/serv-type/sm"),r.next=3,regeneratorRuntime.awrap(this.dropdownRequest(t));case 3:r.sent.forEach((function(t){e.dropdown.assig.push({value:t.servtype_id,text:t.title})}));case 5:case"end":return r.stop()}}),null,this)},getPosData:function(){var t,e;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(o.a,"/pos/md?id=").concat(this.id),r.prev=1,r.next=4,regeneratorRuntime.awrap(this.$axios.$get(t));case 4:(e=r.sent).err?this.response.error=e.err:(this.form.posmain_id=this.id,this.form.title=e.data[0].title,this.form.shorthand=e.data[0].shorthand),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),this.response.error=r.t0;case 11:case"end":return r.stop()}}),null,this,[[1,8]])},getPosAssigData:function(){var t,e,r=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(o.a,"/pos-assig/sm?id=").concat(this.id),n.prev=1,n.next=4,regeneratorRuntime.awrap(this.$axios.$get(t));case 4:(e=n.sent).err?this.response.error=e.err:e.data.forEach((function(t){r.form.assig.push(t.servtype_id)})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.response.error=n.t0;case 11:case"end":return n.stop()}}),null,this,[[1,8]])},searchInput:function(t){var e,r,n;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="shorthand"===t?this.form.shorthand:this.form.title,r="".concat(o.a,"/search/pos"),l.prev=2,l.next=5,regeneratorRuntime.awrap(this.$axios.$get(r,{params:{query:e}}));case 5:(n=l.sent).err?this.response.error=n.err:this.queryResult=n.data,l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),this.response.error=l.t0;case 12:case"end":return l.stop()}}),null,this,[[2,9]])},onSubmit:function(t){var e,r;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),e="".concat(o.a,"/pos/").concat(this.id),n.prev=2,n.next=5,regeneratorRuntime.awrap(this.$axios.$put(e,this.form));case 5:(r=n.sent).err?this.response.error=r.err:this.response.success=r.suc,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),this.response.error=n.t0;case 12:case"end":return n.stop()}}),null,this,[[2,9]])},onReset:function(t){t&&t.preventDefault(),this.form={posmain_id:null,title:"",shorthand:"",assig:[]},this.validation={shorthand:!0,title:!0,assig:[]},this.response={success:"",error:""},this.queryResult=[],this.getPosData(),this.getPosAssigData()}}},f=r(36),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._v(" "),r("b-container",[r("H3withButton",{attrs:{h3text:"Edit Position","button-text":"Cancel and Return","link-to":"/pos"}}),t._v(" "),r("b-row",[r("b-col",[r("b-form",{attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Position","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.title,"invalid-feedback":t.invalidTitle(),"valid-feedback":t.validFeedback(),label:"Title:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.title},on:{focus:function(e){return t.titleValidator()},input:function(e){return t.titleValidator()}},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.shorthand,"invalid-feedback":t.invalidShorthand(),"valid-feedback":t.validFeedback(),label:"Abbreviation:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.shorthand},on:{focus:function(e){return t.shorthandValidator()},input:function(e){return t.shorthandValidator()}},model:{value:t.form.shorthand,callback:function(e){t.$set(t.form,"shorthand",e)},expression:"form.shorthand"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Assignments","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.assig[0],"invalid-feedback":t.invalidAssig(),"label-cols-sm":"3",label:"1:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.assig,state:t.validation.assig[0]},on:{input:function(e){return t.assigValidator(0)}},model:{value:t.form.assig[0],callback:function(e){t.$set(t.form.assig,0,e)},expression:"form.assig[0]"}})],1),t._v(" "),r("b-collapse",{attrs:{visible:t.validation.assig[0]}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.assig[1],"invalid-feedback":t.invalidAssig(),"label-cols-sm":"3",label:"2:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.assig,state:t.validation.assig[1]},on:{input:function(e){return t.assigValidator(1)}},model:{value:t.form.assig[1],callback:function(e){t.$set(t.form.assig,1,e)},expression:"form.assig[1]"}})],1)],1),t._v(" "),r("b-collapse",{attrs:{visible:t.validation.assig[1]}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.assig[2],"invalid-feedback":t.invalidAssig(),"label-cols-sm":"3",label:"3:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.assig,state:t.validation.assig[2]},on:{input:function(e){return t.assigValidator(2)}},model:{value:t.form.assig[2],callback:function(e){t.$set(t.form.assig,2,e)},expression:"form.assig[2]"}})],1)],1),t._v(" "),r("b-collapse",{attrs:{visible:t.validation.assig[2]}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.assig[3],"invalid-feedback":t.invalidAssig(),"label-cols-sm":"3",label:"4:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.assig,state:t.validation.assig[3]},on:{input:function(e){return t.assigValidator(3)}},model:{value:t.form.assig[3],callback:function(e){t.$set(t.form.assig,3,e)},expression:"form.assig[3]"}})],1)],1),t._v(" "),r("b-collapse",{attrs:{visible:t.validation.assig[3]}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.assig[4],"invalid-feedback":t.invalidAssig(),"label-cols-sm":"3",label:"5:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.assig,state:t.validation.assig[4]},on:{input:function(e){return t.assigValidator(4)}},model:{value:t.form.assig[4],callback:function(e){t.$set(t.form.assig,4,e)},expression:"form.assig[4]"}})],1)],1)],1)],1),t._v(" "),r("AlertBox",{attrs:{show:t.hasSuc,text:t.response.success,variant:"success"}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasErr,text:t.response.error,variant:"danger"}}),t._v(" "),r("b-form-row",{staticClass:"my-3"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"px-4",attrs:{disabled:t.incompleteValidation,type:"submit",variant:"success"}},[t._v("\n                Update Position\n              ")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"secondary"}},[t._v("\n                Reset Form\n              ")])],1)],1)],1)],1)],1),t._v(" "),r("b-row",{staticClass:"mt-4"},[r("b-col",[r("b-alert",{attrs:{show:t.queryHasResult,variant:"info"}},[r("p",[t._v("Found the Following Positions with similar names")]),t._v(" "),r("ul",t._l(t.queryResult,(function(e){return r("li",{key:e.pos_id},[r("strong",[t._v("Position #"+t._s(e.posmain_id)+":")]),t._v("\n              "+t._s(e.shorthand)+" - "+t._s(e.title)+"\n            ")])})),0)])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);