(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{200:function(t,e,r){"use strict";var n={},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},201:function(t,e){t.exports="http://localhost:3000/api"},202:function(t,e,r){"use strict";var n={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},203:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!0},linkTo:{type:String,required:!0},buttonVariant:{type:String,default:"secondary",required:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:t.buttonVariant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},346:function(t,e,r){"use strict";r(72)("sub",(function(t){return function(){return t(this,"sub","","")}}))},384:function(t,e,r){"use strict";r.r(e);r(54),r(346),r(95),r(20);var n=r(201),o=r.n(n),l=r(200),m=r(203),c=r(202),d={components:{NavbarHome:l.a,H3withButton:m.a,AlertBox:c.a},data:function(){return{id:this.$route.params.id,form:{firstname:"",middlename:"",lastname:"",addr:"",hood:"",email:"",dob:null,passport:"",ident:"",posmain_id:null,scopesub_id:null},validation:{firstname:!0,lastname:!0,email:null,dob:null,passport:null,pos:!0,sub:!0},response:{success:"",error:""},search:{name:[]},dropdown:{pos:[{value:null,text:"Please select Position"}],sub:[{value:null,text:"Please select Subsidiary"}]}}},computed:{hasSuc:function(){return this.response.success.length>0},hasErr:function(){return this.response.error.length>0},searchNameHasResult:function(){return this.search.name.length>0},incompleteValidation:function(){return null===this.validation.firstname||null===this.validation.lastname||null===this.validation.pos||null===this.validation.sub||!1===this.validation.firstname||!1===this.validation.lastname||!1===this.validation.email||!1===this.validation.dob||!1===this.validation.passport||!1===this.validation.pos||!1===this.validation.sub}},mounted:function(){this.getPosDropdown(),this.getSubDropdown(),this.getEmpData()},methods:{size2Validator:function(t){this.response.success="",this.response.error="",this.search.name=[],"firstname"===t&&(this.form.firstname.length>=2?(this.validation.firstname=!0,this.searchName("firstname")):this.validation.firstname=!1),"lastname"===t&&(this.form.lastname.length>=2?(this.validation.lastname=!0,this.searchName("lastname")):this.validation.lastname=!1)},emailValidator:function(){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.form.email).toLowerCase())?this.validation.email=!0:this.form.email?this.validation.email=!1:this.validation.email=null},passportValidator:function(){this.form.passport?9===this.form.passport.length?this.validation.passport=!0:this.validation.passport=!1:this.validation.passport=null},invalidFirstname:function(){if(this.form.firstname.length>0){var t=2-this.form.firstname.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidLastname:function(){if(this.form.lastname.length>0){var t=2-this.form.lastname.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidAddress:function(){if(this.form.addr.length>0){var t=2-this.form.addr.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},dateValidator:function(){this.form.dob?this.validation.dob=!0:this.validation.dob=null},workValidator:function(){!this.form.posmain_id&&this.form.scopesub_id?(this.validation.pos=!1,this.validation.sub=!0):this.form.posmain_id&&!this.form.scopesub_id?(this.validation.pos=!0,this.validation.sub=!1):this.form.posmain_id||this.form.scopesub_id?(this.validation.pos=!0,this.validation.sub=!0):(this.validation.pos=!1,this.validation.sub=!1)},dropdownRequest:function(t){var e;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(this.$axios.$get(t));case 3:if(!(e=r.sent).err){r.next=9;break}return this.response.error=e.err,r.abrupt("return",[]);case 9:return r.abrupt("return",e.data);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),this.response.error=r.t0,r.abrupt("return",[]);case 16:case"end":return r.stop()}}),null,this,[[0,12]])},getPosDropdown:function(){var t,e=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(o.a,"/pos/md"),r.next=3,regeneratorRuntime.awrap(this.dropdownRequest(t));case 3:r.sent.forEach((function(t){e.dropdown.pos.push({value:t.posmain_id,text:t.title})}));case 5:case"end":return r.stop()}}),null,this)},getSubDropdown:function(){var t,e=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t="".concat(o.a,"/scope-sub/sm"),r.next=3,regeneratorRuntime.awrap(this.dropdownRequest(t));case 3:r.sent.forEach((function(t){e.dropdown.sub.push({value:t.scopesub_id,text:t.shorthand})}));case 5:case"end":return r.stop()}}),null,this)},getEmpData:function(){var t,e,r;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(o.a,"/emp/md?id=").concat(this.id),n.prev=1,n.next=4,regeneratorRuntime.awrap(this.$axios.$get(t));case 4:(e=n.sent).err?this.response.error=e.err:this.form=e.data[0],r=new Date(this.form.dob).toISOString().substr(0,10),this.form.dob=r,n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),this.response.error=n.t0;case 13:case"end":return n.stop()}}),null,this,[[1,10]])},searchName:function(t){var e,r,n;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e="firstname"===t?this.form.firstname:this.form.lastname,r="".concat(o.a,"/search/emp"),l.prev=2,l.next=5,regeneratorRuntime.awrap(this.$axios.$get(r,{params:{query:e}}));case 5:(n=l.sent).err?this.response.error=n.err:this.search.name=n.data,l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),this.response.error=l.t0;case 12:case"end":return l.stop()}}),null,this,[[2,9]])},onSubmit:function(t){var e,r;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),e="".concat(o.a,"/emp/").concat(this.id),n.prev=2,n.next=5,regeneratorRuntime.awrap(this.$axios.$put(e,this.form));case 5:(r=n.sent).err?this.response.error=r.err:(this.onReset(),this.response.success=r.suc),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),this.response.error=n.t0;case 12:case"end":return n.stop()}}),null,this,[[2,9]])},onReset:function(t){t&&t.preventDefault(),this.validation={firstname:!0,lastname:!0,email:null,dob:null,passport:null,pos:!0,sub:!0},this.response={success:"",error:""},this.search.name=[],this.getEmpData()}}},h=r(36),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._v(" "),r("b-container",[r("H3withButton",{attrs:{h3text:"Edit Employee","button-text":"Cancel and Return","link-to":"/emp"}}),t._v(" "),r("b-form",{attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Name","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.firstname,"invalid-feedback":t.invalidFirstname(),label:"First Name:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.firstname},on:{focus:function(e){return t.size2Validator("firstname")},keydown:function(e){return t.size2Validator("firstname")}},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Middle Name:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.middlename,callback:function(e){t.$set(t.form,"middlename",e)},expression:"form.middlename"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.lastname,"invalid-feedback":t.invalidLastname(),label:"Last Name:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.lastname},on:{focus:function(e){return t.size2Validator("lastname")},keydown:function(e){return t.size2Validator("lastname")}},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})],1)],1)],1),t._v(" "),r("b-collapse",{attrs:{id:"nameSearchResult",visible:t.searchNameHasResult}},[r("b-alert",{staticClass:"mt-1",attrs:{show:"",variant:"info"}},[r("p",[t._v("Found the Following Employees with similar names")]),t._v(" "),r("ul",t._l(t.search.name,(function(e){return r("li",{key:e.empmain_id},[r("strong",[t._v("Employee #"+t._s(e.empmain_id)+":")]),t._v("\n              "+t._s(e.firstname)+" "+t._s(e.lastname)+"\n              "),r("em",[t._v(" - "+t._s(e.position)+" at "+t._s(e.subsidiary))])])})),0)])],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Address","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{label:"Address:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.addr,callback:function(e){t.$set(t.form,"addr",e)},expression:"form.addr"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Neighborhood:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.hood,callback:function(e){t.$set(t.form,"hood",e)},expression:"form.hood"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.email,label:"Email:","label-cols-sm":"3","label-align-sm":"right","invalid-feedback":"Please enter a valid Email Address"}},[r("b-form-input",{attrs:{state:t.validation.email},on:{focus:t.emailValidator,keydown:t.emailValidator},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Identification","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.dob,label:"Date of Birth:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.dob,type:"date"},on:{change:t.dateValidator},model:{value:t.form.dob,callback:function(e){t.$set(t.form,"dob",e)},expression:"form.dob"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{state:t.validation.passport,label:"Passport:","label-cols-sm":"3","label-align-sm":"right","invalid-feedback":"System only accepts 9-character passports"}},[r("b-form-input",{attrs:{state:t.validation.passport},on:{change:t.passportValidator,focus:t.passportValidator},model:{value:t.form.passport,callback:function(e){t.$set(t.form,"passport",e)},expression:"form.passport"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"ID:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.ident,callback:function(e){t.$set(t.form,"ident",e)},expression:"form.ident"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Work","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Position:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.pos,state:t.validation.pos},on:{change:t.workValidator},model:{value:t.form.posmain_id,callback:function(e){t.$set(t.form,"posmain_id",e)},expression:"form.posmain_id"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Subsidiary:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.sub,state:t.validation.sub},on:{change:t.workValidator},model:{value:t.form.scopesub_id,callback:function(e){t.$set(t.form,"scopesub_id",e)},expression:"form.scopesub_id"}})],1)],1)],1),t._v(" "),r("AlertBox",{attrs:{show:t.hasSuc,text:t.response.success,variant:"success"}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasErr,text:t.response.error,variant:"danger"}}),t._v(" "),r("b-form-row",{staticClass:"my-3"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"px-4",attrs:{disabled:t.incompleteValidation,type:"submit",variant:"success"}},[t._v("\n            Update Employee\n          ")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"secondary"}},[t._v("\n            Reset Form\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);