(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{201:function(t,e,r){"use strict";var n={},o=r(37),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},202:function(t,e){t.exports="http://sibox/api"},203:function(t,e,r){"use strict";var n={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},o=r(37),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},204:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!0},linkTo:{type:String,required:!0},buttonVariant:{type:String,default:"secondary",required:!1}}},o=r(37),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:t.buttonVariant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},347:function(t,e,r){"use strict";r(73)("sub",(function(t){return function(){return t(this,"sub","","")}}))},372:function(t,e,r){"use strict";r.r(e);r(55);var n,o,l,m,c,d,h=r(15),f=(r(347),r(96),r(21),r(202)),v=r.n(f),_=r(201),w=r(204),x=r(203),k={components:{NavbarHome:_.a,H3withButton:w.a,AlertBox:x.a},data:function(){return{id:this.$route.params.id,form:{firstname:"",middlename:"",lastname:"",addr:"",hood:"",email:"",dob:null,passport:"",ident:"",posmain_id:null,scopesub_id:null},validation:{firstname:!0,lastname:!0,email:null,dob:null,passport:null,pos:!0,sub:!0},response:{success:"",error:""},search:{name:[]},dropdown:{pos:[{value:null,text:"Please select Position"}],sub:[{value:null,text:"Please select Subsidiary"}]}}},computed:{hasSuc:function(){return this.response.success.length>0},hasErr:function(){return this.response.error.length>0},searchNameHasResult:function(){return this.search.name.length>0},incompleteValidation:function(){return null===this.validation.firstname||null===this.validation.lastname||null===this.validation.pos||null===this.validation.sub||!1===this.validation.firstname||!1===this.validation.lastname||!1===this.validation.email||!1===this.validation.dob||!1===this.validation.passport||!1===this.validation.pos||!1===this.validation.sub}},mounted:function(){this.getPosDropdown(),this.getSubDropdown(),this.getEmpData()},methods:{size2Validator:function(t){this.response.success="",this.response.error="",this.search.name=[],"firstname"===t&&(this.form.firstname.length>=2?(this.validation.firstname=!0,this.searchName("firstname")):this.validation.firstname=!1),"lastname"===t&&(this.form.lastname.length>=2?(this.validation.lastname=!0,this.searchName("lastname")):this.validation.lastname=!1)},emailValidator:function(){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.form.email).toLowerCase())?this.validation.email=!0:this.form.email?this.validation.email=!1:this.validation.email=null},passportValidator:function(){this.form.passport?9===this.form.passport.length?this.validation.passport=!0:this.validation.passport=!1:this.validation.passport=null},invalidFirstname:function(){if(this.form.firstname.length>0){var t=2-this.form.firstname.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidLastname:function(){if(this.form.lastname.length>0){var t=2-this.form.lastname.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},invalidAddress:function(){if(this.form.addr.length>0){var t=2-this.form.addr.length;return"Enter at least ".concat(t," more characters")}return"Please enter something"},dateValidator:function(){this.form.dob?this.validation.dob=!0:this.validation.dob=null},workValidator:function(){!this.form.posmain_id&&this.form.scopesub_id?(this.validation.pos=!1,this.validation.sub=!0):this.form.posmain_id&&!this.form.scopesub_id?(this.validation.pos=!0,this.validation.sub=!1):this.form.posmain_id||this.form.scopesub_id?(this.validation.pos=!0,this.validation.sub=!0):(this.validation.pos=!1,this.validation.sub=!1)},dropdownRequest:(d=Object(h.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.$get(e);case 3:if(!(r=t.sent).err){t.next=9;break}return this.response.error=r.err,t.abrupt("return",[]);case 9:return t.abrupt("return",r.data);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),this.response.error=t.t0,t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(t){return d.apply(this,arguments)}),getPosDropdown:(c=Object(h.a)(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(v.a,"/pos/md"),t.next=3,this.dropdownRequest(e);case 3:t.sent.forEach((function(t){r.dropdown.pos.push({value:t.posmain_id,text:t.title})}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)}),getSubDropdown:(m=Object(h.a)(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(v.a,"/scope-sub/sm"),t.next=3,this.dropdownRequest(e);case 3:t.sent.forEach((function(t){r.dropdown.sub.push({value:t.scopesub_id,text:t.shorthand})}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)}),getEmpData:(l=Object(h.a)(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(v.a,"/emp/md?id=").concat(this.id),t.prev=1,t.next=4,this.$axios.$get(e);case 4:(r=t.sent).err?this.response.error=r.err:this.form=r.data[0],n=new Date(this.form.dob).toISOString().substr(0,10),this.form.dob=n,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),this.response.error=t.t0;case 13:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(){return l.apply(this,arguments)}),searchName:(o=Object(h.a)(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="firstname"===e?this.form.firstname:this.form.lastname,n="".concat(v.a,"/search/emp"),t.prev=2,t.next=5,this.$axios.$get(n,{params:{query:r}});case 5:(o=t.sent).err?this.response.error=o.err:this.search.name=o.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.response.error=t.t0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(t){return o.apply(this,arguments)}),onSubmit:(n=Object(h.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r="".concat(v.a,"/emp/").concat(this.id),t.prev=2,t.next=5,this.$axios.$put(r,this.form);case 5:(n=t.sent).err?this.response.error=n.err:(this.onReset(),this.response.success=n.suc),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.response.error=t.t0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(t){return n.apply(this,arguments)}),onReset:function(t){t&&t.preventDefault(),this.validation={firstname:!0,lastname:!0,email:null,dob:null,passport:null,pos:!0,sub:!0},this.response={success:"",error:""},this.search.name=[],this.getEmpData()}}},y=r(37),component=Object(y.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._v(" "),r("b-container",[r("H3withButton",{attrs:{h3text:"Edit Employee","button-text":"Cancel and Return","link-to":"/emp"}}),t._v(" "),r("b-form",{attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Name","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{label:"First Name:","label-cols-sm":"3","label-align-sm":"right",state:t.validation.firstname,"invalid-feedback":t.invalidFirstname()}},[r("b-form-input",{attrs:{state:t.validation.firstname},on:{focus:function(e){return t.size2Validator("firstname")},keydown:function(e){return t.size2Validator("firstname")}},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Middle Name:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.middlename,callback:function(e){t.$set(t.form,"middlename",e)},expression:"form.middlename"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Last Name:","label-cols-sm":"3","label-align-sm":"right",state:t.validation.lastname,"invalid-feedback":t.invalidLastname()}},[r("b-form-input",{attrs:{state:t.validation.lastname},on:{focus:function(e){return t.size2Validator("lastname")},keydown:function(e){return t.size2Validator("lastname")}},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})],1)],1)],1),t._v(" "),r("b-collapse",{attrs:{id:"nameSearchResult",visible:t.searchNameHasResult}},[r("b-alert",{staticClass:"mt-1",attrs:{show:"",variant:"info"}},[r("p",[t._v("Found the Following Employees with similar names")]),t._v(" "),r("ul",t._l(t.search.name,(function(e){return r("li",{key:e.empmain_id},[r("strong",[t._v("Employee #"+t._s(e.empmain_id)+":")]),t._v("\n              "+t._s(e.firstname)+" "+t._s(e.lastname)+"\n              "),r("em",[t._v(" - "+t._s(e.position)+" at "+t._s(e.subsidiary))])])})),0)])],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Address","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{label:"Address:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.addr,callback:function(e){t.$set(t.form,"addr",e)},expression:"form.addr"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Neighborhood:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.hood,callback:function(e){t.$set(t.form,"hood",e)},expression:"form.hood"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Email:","label-cols-sm":"3","label-align-sm":"right",state:t.validation.email,"invalid-feedback":"Please enter a valid Email Address"}},[r("b-form-input",{attrs:{state:t.validation.email},on:{focus:t.emailValidator,keydown:t.emailValidator},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Identification","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{label:"Date of Birth:","label-cols-sm":"3","label-align-sm":"right",state:t.validation.dob}},[r("b-form-input",{attrs:{type:"date",state:t.validation.dob},on:{change:t.dateValidator},model:{value:t.form.dob,callback:function(e){t.$set(t.form,"dob",e)},expression:"form.dob"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"Passport:","label-cols-sm":"3","label-align-sm":"right",state:t.validation.passport,"invalid-feedback":"System only accepts 9-character passports"}},[r("b-form-input",{attrs:{state:t.validation.passport},on:{change:t.passportValidator,focus:t.passportValidator},model:{value:t.form.passport,callback:function(e){t.$set(t.form,"passport",e)},expression:"form.passport"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{label:"ID:","label-cols-sm":"3","label-align-sm":"right"}},[r("b-form-input",{model:{value:t.form.ident,callback:function(e){t.$set(t.form,"ident",e)},expression:"form.ident"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Work","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Position:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.pos,state:t.validation.pos},on:{change:t.workValidator},model:{value:t.form.posmain_id,callback:function(e){t.$set(t.form,"posmain_id",e)},expression:"form.posmain_id"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Subsidiary:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.dropdown.sub,state:t.validation.sub},on:{change:t.workValidator},model:{value:t.form.scopesub_id,callback:function(e){t.$set(t.form,"scopesub_id",e)},expression:"form.scopesub_id"}})],1)],1)],1),t._v(" "),r("AlertBox",{attrs:{show:t.hasSuc,variant:"success",text:t.response.success}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasErr,variant:"danger",text:t.response.error}}),t._v(" "),r("b-form-row",{staticClass:"my-3"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"px-4",attrs:{type:"submit",variant:"success",disabled:t.incompleteValidation}},[t._v("\n            Update Employee\n          ")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"secondary"}},[t._v("\n            Reset Form\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);