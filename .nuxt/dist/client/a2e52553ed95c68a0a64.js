(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{200:function(t,e,r){"use strict";var n={},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},201:function(t,e){t.exports="http://localhost:3000/api"},202:function(t,e,r){"use strict";var n={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},203:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!0},linkTo:{type:String,required:!0},buttonVariant:{type:String,default:"secondary",required:!1}}},o=r(36),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:t.buttonVariant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},377:function(t,e,r){"use strict";r.r(e);r(54);var n=r(201),o=r.n(n),l=r(200),c=r(203),d=r(202),h={components:{NavbarHome:l.a,H3withButton:c.a,AlertBox:d.a},data:function(){return{archTypeOptions:[{value:null,text:"Select Service Archtype"}],serviceTypeOptions:[{value:null,text:"Select Service Type"}],depScopeOptions:[{value:null,text:"Select Request Origin"}],superScopeOptions:[{value:null,text:"Select Origin Location"}],form:{archType:null,serviceType:null,depScope:null,superScope:null,footprint:null,cmYear:null,cmSeq:null,description:""},validation:{archType:null,serviceType:null,depScope:null,superScope:null,footprint:null,cmYear:null,cmSeq:null,description:null},response:{success:"",error:"",sid:null},queryResult:[]}},computed:{archNotSelected:function(){return!this.validation.archType},cmYearOptions:function(){var t=(new Date).getFullYear();return[{value:null,text:""},{value:t,text:t},{value:t-1,text:t-1},{value:t-2,text:t-2},{value:t-3,text:t-3},{value:t-4,text:t-4}]},validFeedback:function(){return"Great!"},minimumValidation:function(){return!!(this.validation.archType&&this.validation.serviceType&&this.validation.depScope&&this.validation.superScope&&this.validation.description)},hasSuc:function(){return this.response.success.length>0},hasErr:function(){return this.response.error.length>0},queryHasResult:function(){return this.queryResult.length>0}},mounted:function(){this.onLoad()},methods:{onLoad:function(){var t,e,r,n=this;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t="".concat(o.a,"/serv-arch/md"),l.next=3,regeneratorRuntime.awrap(this.dropdownRequest(t));case 3:return l.sent.forEach((function(element){n.archTypeOptions.push({value:element.servarch_id,text:element.title})})),e="".concat(o.a,"/scope-dept"),l.next=8,regeneratorRuntime.awrap(this.dropdownRequest(e));case 8:return l.sent.forEach((function(element){n.depScopeOptions.push({value:element.scopedept_id,text:element.title})})),r="".concat(o.a,"/scope-locat"),l.next=13,regeneratorRuntime.awrap(this.dropdownRequest(r));case 13:l.sent.forEach((function(element){n.superScopeOptions.push({value:element.scopelocat_id,text:element.title})}));case 15:case"end":return l.stop()}}),null,this)},dropdownRequest:function(t){var e;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(this.$axios.$get(t));case 3:if(!(e=r.sent).err){r.next=9;break}return this.response.error=e.err,r.abrupt("return",[]);case 9:return r.abrupt("return",e.data);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),this.response.error=r.t0,r.abrupt("return",[]);case 16:case"end":return r.stop()}}),null,this,[[0,12]])},archTypeValidator:function(){return null===this.form.archType?(this.validation.archType=!1,this.validation.serviceType=null,this.form.serviceType=null,this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],!1):(this.validation.serviceType=null,this.form.serviceType=null,this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],this.response.success="",this.response.error="",this.validation.archType=!0,!0)},serviceTypeValidator:function(){null===this.form.serviceType?this.validation.serviceType=!1:(this.validation.serviceType=!0,this.response.success="",this.response.error="")},depScopeValidator:function(){null===this.form.depScope?this.validation.depScope=!1:(this.validation.depScope=!0,this.response.success="",this.response.error="")},superScopeValidator:function(){null===this.form.superScope?this.validation.superScope=!1:(this.validation.superScope=!0,this.response.success="",this.response.error="")},footprintValidator:function(){isNaN(this.form.footprint)?this.validation.footprint=!1:(this.validation.footprint=!0,this.response.success="",this.response.error="",this.queryResult=[],this.searchFootprint()),this.form.footprint||(this.validation.footprint=null)},descriptionValidator:function(){this.form.description.length<5?this.validation.description=!1:this.form.description.length>200?this.validation.description=!1:this.validation.description=!0},cmValidator:function(){this.form.cmYear?this.validation.cmYear=!0:this.validation.cmYear=!1,isNaN(this.form.cmSeq)||!this.form.cmSeq?this.validation.cmSeq=!1:this.validation.cmSeq=!0,this.form.cmYear||this.form.cmSeq||(this.validation.cmYear=null,this.validation.cmSeq=null)},invalidFootprint:function(){return"Footprints can only be Numbers"},invalidDescription:function(){if(this.form.description.length>=200){var t=this.form.description.length-200;return"Please remove at least ".concat(t," more characters")}if(this.form.description.length>0){var e=5-this.form.description.length;return"Enter at least ".concat(e," more characters")}return"Please enter something"},invalidCm:function(){return this.form.cmYear||this.form.cmSeq?this.form.cmYear?this.form.cmSeq?isNaN(this.form.cmSeq)?"Case-Sequence can only be a number":void 0:"Please enter the Case-Sequence number":"Please select the Case-Year value":"Please select the Case-Year value and enter the Case-Sequence number"},searchFootprint:function(){var t,e,r;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((t=this.form.footprint).length<4)){n.next=3;break}return n.abrupt("return");case 3:return e="".concat(o.a,"/search/footprint"),n.prev=4,n.next=7,regeneratorRuntime.awrap(this.$axios.$get(e,{params:{query:t}}));case 7:(r=n.sent).err?this.response.error=r.err:this.queryResult=r.data,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),this.response.error=n.t0;case 14:case"end":return n.stop()}}),null,this,[[4,11]])},serviceByArch:function(){var t,e,r,n=this;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(this.archTypeValidator()){l.next=2;break}return l.abrupt("return");case 2:return t=this.form.archType,e="".concat(o.a,"/serv-typebyarch/sm?id=").concat(t),l.prev=4,l.next=7,regeneratorRuntime.awrap(this.$axios.$get(e));case 7:(r=l.sent).err?this.response.error=r.err:r.data.forEach((function(t){n.serviceTypeOptions.push({value:t.servtype_id,text:t.title})})),l.next=14;break;case 11:l.prev=11,l.t0=l.catch(4),this.response.error=l.t0;case 14:case"end":return l.stop()}}),null,this,[[4,11]])},onSubmit:function(t){var e,r;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),e="".concat(o.a,"/serv"),n.prev=2,n.next=5,regeneratorRuntime.awrap(this.$axios.$post(e,this.form));case 5:(r=n.sent).err?this.response.error=r.err:(this.response.success=r.suc,this.response.sid=r.sid,this.$bvModal.show("submitModal")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),this.response.error=n.t0;case 12:case"end":return n.stop()}}),null,this,[[2,9]])},expandSID:function(){var t="/log/add/".concat(this.response.sid);this.$router.push(t)},onReset:function(t){t.preventDefault(),this.$bvModal.hide("submitModal"),this.archTypeOptions=[{value:null,text:"Select Service Archtype"}],this.serviceTypeOptions=[{value:null,text:"Select Service Type"}],this.depScopeOptions=[{value:null,text:"Select Request Origin"}],this.superScopeOptions=[{value:null,text:"Select Origin Location"}],this.form.archType=null,this.form.serviceType=null,this.form.depScope=null,this.form.superScope=null,this.form.footprint=null,this.form.cmYear=null,this.form.cmSeq=null,this.form.description="",this.validation.archType=null,this.validation.serviceType=null,this.validation.depScope=null,this.validation.superScope=null,this.validation.footprint=null,this.validation.cmYear=null,this.validation.cmSeq=null,this.validation.description=null,this.response.success="",this.response.error="",this.response.sid=null,this.queryResult=[],this.onLoad()}}},v=r(36),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._v(" "),r("b-container",[r("H3withButton",{attrs:{h3text:"Add new Service Log","button-text":"Return to Logs","link-to":"/log"}}),t._v(" "),r("b-form",{staticClass:"mt-3",attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.onReset}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Specification","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Archtype:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.archTypeOptions,state:t.validation.archType},on:{change:t.serviceByArch},model:{value:t.form.archType,callback:function(e){t.$set(t.form,"archType",e)},expression:"form.archType"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Type:","label-align-sm":"right"}},[r("b-form-select",{attrs:{disabled:t.archNotSelected,options:t.serviceTypeOptions,state:t.validation.serviceType},on:{change:t.serviceTypeValidator},model:{value:t.form.serviceType,callback:function(e){t.$set(t.form,"serviceType",e)},expression:"form.serviceType"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Scope","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Origin:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.depScopeOptions,state:t.validation.depScope},on:{change:t.depScopeValidator},model:{value:t.form.depScope,callback:function(e){t.$set(t.form,"depScope",e)},expression:"form.depScope"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Location:","label-align-sm":"right"}},[r("b-form-select",{attrs:{options:t.superScopeOptions,state:t.validation.superScope},on:{change:t.superScopeValidator},model:{value:t.form.superScope,callback:function(e){t.$set(t.form,"superScope",e)},expression:"form.superScope"}})],1)],1)],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Registry","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Footprint:","label-align-sm":"right"}},[r("b-form-input",{attrs:{state:t.validation.footprint,"invalid-feedback":t.invalidFootprint,"valid-feedback":t.validFeedback,placeholder:"Enter Footprint Number"},on:{keyup:t.footprintValidator},model:{value:t.form.footprint,callback:function(e){t.$set(t.form,"footprint",e)},expression:"form.footprint"}})],1),t._v(" "),r("b-form-group",{staticClass:"mb-2",attrs:{"label-cols-sm":"3",label:"Case Management:","label-align-sm":"right"}},[r("b-input-group",{scopedSlots:t._u([{key:"prepend",fn:function(){return[r("b-form-select",{staticClass:"mr-3 pr-5 pl-3",attrs:{options:t.cmYearOptions,state:t.validation.cmYear},on:{focus:t.cmValidator,change:t.cmValidator},model:{value:t.form.cmYear,callback:function(e){t.$set(t.form,"cmYear",e)},expression:"form.cmYear"}})]},proxy:!0}])},[t._v(" "),r("b-form-input",{attrs:{state:t.validation.cmSeq,placeholder:"Select Year and Enter Number"},on:{focus:t.cmValidator,keyup:t.cmValidator},model:{value:t.form.cmSeq,callback:function(e){t.$set(t.form,"cmSeq",e)},expression:"form.cmSeq"}})],1),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.footprint}},[t._v("\n              "+t._s(t.invalidFootprint())+"\n            ")]),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.cmSeq}},[t._v("\n              "+t._s(t.invalidCm())+"\n            ")])],1)],1),t._v(" "),r("b-alert",{attrs:{show:t.queryHasResult,variant:"info"}},[r("p",[t._v("\n            Found the Following Footprint Numbers with similar starting values\n          ")]),t._v(" "),r("ul",t._l(t.queryResult,(function(e){return r("li",{key:e},[t._v("\n              Footprint #:\n              "),r("strong",[t._v(" "+t._s(e.footprint))])])})),0)])],1),t._v(" "),r("b-card",{staticClass:"mt-4",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Service Description","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-textarea",{attrs:{state:t.validation.description,"invalid-feedback":t.invalidDescription,"valid-feedback":t.validFeedback,placeholder:"Enter a short description for this service...",rows:"3","max-rows":"6"},on:{focus:t.descriptionValidator,keyup:t.descriptionValidator},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.validation.description}},[t._v("\n            "+t._s(t.invalidDescription())+"\n          ")])],1)],1),t._v(" "),r("b-form-row",{staticClass:"mt-3"},[r("b-col",{staticClass:"text-right"},[r("b-button",{staticClass:"px-4",attrs:{disabled:!t.minimumValidation,type:"submit",variant:"success"}},[t._v("\n            Pre-Register\n          ")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"secondary"}},[t._v("\n            Reset Form\n          ")])],1)],1)],1),t._v(" "),r("b-row",[r("AlertBox",{attrs:{show:t.hasSuc,text:t.response.success,variant:"success"}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasErr,text:t.response.error,variant:"danger"}})],1)],1),t._v(" "),r("b-modal",{attrs:{id:"submitModal",title:"Service Pre-Registration"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("b-container",[r("b-row",{attrs:{"align-h":"between"}},[r("b-col",{attrs:{cols:"6"}},[r("b-button",{attrs:{block:"",variant:"info"},on:{click:t.onReset}},[t._v("\n              Add another Service\n            ")])],1),t._v(" "),r("b-col",{attrs:{cols:"6"}},[r("b-button",{attrs:{block:"",variant:"success"},on:{click:t.expandSID}},[t._v("\n              Expand SID# "+t._s(t.response.sid)+"\n            ")])],1)],1)],1)]},proxy:!0}])},[r("p",{staticClass:"my-4 text-center"},[t._v("\n      "+t._s(t.response.success)+"\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);