(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{201:function(t,e,r){"use strict";var n={},o=r(37),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-navbar",{attrs:{type:"dark",variant:"dark"}},[r("b-navbar-brand",{attrs:{to:"/home"}},[t._v("SIBOX")]),t._v(" "),r("b-navbar-nav",[r("b-nav-item",{attrs:{to:"/log"}},[t._v("Logs")]),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Statistics",right:""}},[r("b-dropdown-item",{attrs:{to:"/stat/"}},[t._v("Summary")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/stat/org"}},[t._v("Organization Chart")])],1),t._v(" "),r("b-nav-item-dropdown",{attrs:{text:"Overview",right:""}},[r("b-dropdown-item",{attrs:{to:"/emp/"}},[t._v("Employees")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/pos/"}},[t._v("Positions")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/sub/"}},[t._v("Subsidiaries")]),t._v(" "),r("b-dropdown-item",{attrs:{to:"/service/"}},[t._v("Services")])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=component.exports},202:function(t,e){t.exports="http://sibox/api"},203:function(t,e,r){"use strict";var n={props:{text:{type:String,default:"",required:!1},variant:{type:String,default:"info",required:!1},show:{type:Boolean,required:!0,default:!1}}},o=r(37),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"mt-4"},[e("b-col",[e("b-alert",{attrs:{show:this.show,variant:this.variant,dismissible:"",fade:""}},[this._v("\n      "+this._s(this.text)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},205:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0},buttonText:{type:String,required:!1,default:"Add"},linkTo:{type:String,required:!0},variant:{type:String,required:!1,default:"info"}},methods:{refresh:function(){this.$emit("refresh")}}},o=r(37),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",{staticClass:"text-left"},[r("h3",[t._v(t._s(t.h3text))])]),t._v(" "),r("b-col",{staticClass:"text-right mb-2"},[r("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.refresh()}}},[t._v("\n      Refresh\n    ")]),t._v(" "),r("b-button",{attrs:{variant:t.variant,to:t.linkTo}},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=component.exports},206:function(t,e,r){"use strict";var n={props:{h3text:{type:String,required:!0}}},o=r(37),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("b-row",{staticClass:"mt-4"},[e("b-col",[e("h3",{staticClass:"text-center mb-3"},[this._v(this._s(this.h3text))])])],1)}),[],!1,null,null,null);e.a=component.exports},367:function(t,e,r){"use strict";r.r(e);r(55);var n,o,l,c=r(15),h=r(202),d=r.n(h),v=r(201),f=r(205),m=r(206),_={props:{listObj:{type:Array,required:!1,default:function(){return[]}},show:{type:Boolean,required:!0,default:!1}}},w=r(37),x=Object(w.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"mt-4"},[r("b-col",[r("b-alert",{attrs:{show:t.show,variant:"info"}},[r("p",[t._v("Results:")]),t._v(" "),r("ul",t._l(t.listObj,(function(e){return r("li",{key:e.id},[t._v("\n          "+t._s(e)+"\n        ")])})),0)])],1)],1)}),[],!1,null,null,null).exports,y=r(203),S={components:{NavbarHome:v.a,H3withRefresh:f.a,H3header:m.a,InfoAlertList:x,AlertBox:y.a},data:function(){return{tableFields:[{key:"sub_id",label:"Subsidiary #",sortable:!0},{key:"shorthand",label:"Abbreviation",sortable:!0},{key:"location",label:"Subsidiary Location",sortable:!0},{key:"title",label:"Subsidiary Name",sortable:!0}],tableData:[],form:[],update:[],showtable:!1,error:null}},computed:{hasUpdate:function(){return this.update.length>0},hasError:function(){return null!==this.error}},mounted:(l=Object(c.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(d.a,"/sub"),t.prev=1,t.next=4,this.$axios.$get(e);case 4:(r=t.sent).err?this.error=r.err:this.tableData=r.data,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.error=t.t0;case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return l.apply(this,arguments)}),methods:{onRowSelected:function(t){this.form=t,this.showtable=t.length>0},resetPage:(o=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&e.preventDefault(),this.tableData=[],this.form=[],this.update=[],this.error=null,this.showtable=!1,r="".concat(d.a,"/sub"),t.prev=7,t.next=10,this.$axios.$get(r);case 10:(n=t.sent).err?this.error=n.err:this.tableData=n.data,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),this.error=t.t0;case 17:case"end":return t.stop()}}),t,this,[[7,14]])}))),function(t){return o.apply(this,arguments)}),onSubmit:(n=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r="".concat(d.a,"/sub"),t.prev=2,t.next=5,this.$axios.$put(r,this.form);case 5:n=t.sent,this.update=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.error=t.t0;case 12:case"end":return t.stop()}}),t,this,[[2,9]])}))),function(t){return n.apply(this,arguments)})}},k=Object(w.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarHome"),t._v(" "),r("b-container",[r("H3withRefresh",{attrs:{h3text:"Edit Subsidiaries","button-text":"Add Subsidiary","link-to":"/sub/add"},on:{refresh:t.resetPage}}),t._v(" "),r("b-row",[r("b-col",[r("b-table",{attrs:{striped:"",selectable:"",hover:"","sticky-header":"",items:t.tableData,fields:t.tableFields},on:{"row-selected":t.onRowSelected}})],1)],1),t._v(" "),r("b-row",[r("b-col",{staticClass:"text-right"},[r("b-button",{attrs:{variant:"danger",to:"/sub/delete"}},[t._v("\n          Delete Subsidiary\n        ")])],1)],1),t._v(" "),r("b-row",{directives:[{name:"show",rawName:"v-show",value:t.showtable,expression:"showtable"}]},[r("b-col",[r("b-form",{attrs:{novalidate:""},on:{submit:t.onSubmit,reset:t.resetPage}},[r("H3header",{attrs:{h3text:"Edit Subsidiaries"}}),t._v(" "),t._l(t.form,(function(sub,e){return r("b-form-row",{key:sub.pos_id},[r("b-col",{staticClass:"text-center",attrs:{sm:"2","align-v":"center"}},[r("b-row",[r("b-col",{attrs:{sm:"12"}},[r("b-row",[r("strong",[t._v("Position #"+t._s(sub.sub_id)+":")])])],1),t._v(" "),r("b-col",{attrs:{sm:"12"}},[r("b-row",[t._v("\n                    "+t._s(sub.shorthand)+"\n                  ")])],1)],1)],1),t._v(" "),r("b-col",[r("b-form-group",{attrs:{label:"Abbreviation"}},[r("b-form-input",{attrs:{trim:""},model:{value:t.form[e].shorthand,callback:function(r){t.$set(t.form[e],"shorthand",r)},expression:"form[index].shorthand"}})],1)],1),t._v(" "),r("b-col",[r("b-form-group",{attrs:{label:"Subsidiary Location"}},[r("b-form-input",{attrs:{trim:""},model:{value:t.form[e].location,callback:function(r){t.$set(t.form[e],"location",r)},expression:"form[index].location"}})],1)],1),t._v(" "),r("b-col",[r("b-form-group",{attrs:{label:"Subsidiary Name"}},[r("b-form-input",{attrs:{trim:""},model:{value:t.form[e].title,callback:function(r){t.$set(t.form[e],"title",r)},expression:"form[index].title"}})],1)],1)],1)})),t._v(" "),r("b-form-row",[r("b-col",{staticClass:"text-right"},[r("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Update")])],1),t._v(" "),r("b-col",{staticClass:"text-left"},[r("b-button",{attrs:{type:"reset",variant:"secondary"}},[t._v("Cancel")])],1)],1)],2)],1)],1),t._v(" "),r("InfoAlertList",{attrs:{show:t.hasUpdate,"list-obj":t.update}}),t._v(" "),r("AlertBox",{attrs:{show:t.hasError,variant:"danger",text:t.error}})],1)],1)}),[],!1,null,null,null);e.default=k.exports}}]);